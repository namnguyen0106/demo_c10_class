<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<p>Iphone</p>
<span>Pin: </span>
<label for="messIphone"></label><textarea name="mess" id="messIphone" cols="30" rows="10"></textarea>
<button onclick="Iphone.sendSms(Nokia)">Gửi tin nhắn</button>

<!--Nokia-->
<p>Nokia</p>
<span>Pin: </span>
<textarea name="mess" id="messNokia" cols="30" rows="10"></textarea>
<button onclick="Nokia.sendSms()">Gửi tin nhắn</button>
<button onclick="Nokia.displayInbox()">Hộp thư đến</button>
<p id="inboxNokia"></p>
</body>
<script>
    class Phone {
        constructor(name, pin, draftMess, inbox, outbox, status) {
            this.name = name;
            this.pin = pin;
            this.draftMess = draftMess;
            this.inbox = inbox;
            this.outbox = outbox;
            this.status = status;
        }

        getName() {
            return this.name;
        }

        setName(name) {
            this.name = name;
        }

        getPin() {
            return this.pin;
        }

        setPin(value) {
            this.pin = value;
        }

        getDraftMess() {
            return this.draftMess;
        }

        setDraftMess(value) {
            this.draftMess = value;
        }

        getInbox() {
            return this.inbox;
        }

        setInbox(value) {
            this.inbox = value;
        }

        getOutbox() {
            return this.outbox;
        }

        setOutbox(value) {
            this.outbox = value;
        }

        getStatus() {
            return this.status;
        }

        setStatus(value) {
            this.status = value;
        }

        turnOn() {
            if (this.status) {
                this.status = false;
            } else {
                this.status = true;
            }
        }

        charge() {
            this.pin = 100;
        }

        draft() {
            let mess = document.getElementById("mess" + this.name);
            this.draftMess = mess;
            this.pin--;
        }

        displayInbox() {
            let output = "";
            for (let i = 0; i < this.inbox.length; i++) {
                output += this.inbox[i] + "<br/>";
            }
            document.getElementById("inboxNokia").innerHTML = output;
            this.pin--;
        }

        sendSms(mobile) {
            let mess = document.getElementById("mess" + this.name).value;
            this.outbox.push(mess) //push vào outbox của đối tượng hiện tại
            mobile.inbox.push(mess); //push vào inbox của đối tượng nhận tin nhắn
            this.pin--;
        }
    }

    let Iphone = new Phone("Iphone", 100, "", [], [], true);
    let Nokia = new Phone("Nokia", 100, "", [], [], true);
</script>
</html>